@use 'sass:map';
@use '../../../styles/const';
@use '../../../styles/utils';

:host {
  display: block;
}

// Scrollable wrapper for <table> element.
.table {
  border-radius: const.$card-radius;
  overflow: auto hidden;
  scrollbar-width: none;
}

.table::-webkit-scrollbar {
  display: none;
}

// Standard <table> element.
table {
  background-color: var(--color-table-background, 0);
  border-collapse: collapse;
  font-size: clamp(.8125rem, .8125rem + 1vw, 1rem);
  font-variant-numeric: tabular-nums;
  inline-size: 100%;
  transition: utils.transition(opacity);
}

// All cells are end-aligned by default since they contain numeric content.
:is(th, td) {
  padding-block: .5rem;
  padding-inline: 1rem;
  text-align: end;
  white-space: nowrap;
}

// Make first column start-aligned.
:is(th, td):first-child {
  text-align: start;
}

// Make table headers bolder.
th {
  font-variation-settings: 'wght' 600;
}

// Only show 'growth' and 'interest' columns when the viewport is wide enough.
:is(.growth, .interest) {
  display: var(--layout-optional-columns-display);
}

// Pseudo-elements for currency and percent symbols with numeric values.
:is(td.balance, td.deposits, td.interest)::before,
td.growth::after {
  color: var(--color-on-surface-variant);
}

// Pseudo-elements for currency symbols.
[data-currency='eur'] :is(td.balance, td.deposits, td.interest)::before {
  content: '€';
}

[data-currency='gbp'] :is(td.balance, td.deposits, td.interest)::before {
  content: '£';
}

[data-currency='inr'] :is(td.balance, td.deposits, td.interest)::before {
  content: '₹';
}

[data-currency='usd'] :is(td.balance, td.deposits, td.interest)::before {
  content: '$',;
}

[data-currency='yen'] :is(td.balance, td.deposits, td.interest)::before {
  content: '¥';
}

:is(td.balance, td.deposits, td.interest)::before {
  margin-inline: 0 .25em;
}

td.growth::after {
  content: '%';
  margin-inline: .25em 0;
}

// Alternating row backgrounds.
tbody > tr:nth-child(odd) {
  background-color: var(--color-odd-row-background);
}

// Footnotes after the table.
.rotate-screen {
  color: var(--color-on-surface-variant);
  display: var(--layout-footnote-display, block);
  font-size: .75rem;
  padding-block: 1rem;
  padding-inline: 1rem;
}

.rotate-screen > span {
  color: var(--color-on-surface);
}
