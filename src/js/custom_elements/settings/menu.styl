.menu
  elevation(2)
  background white
  border-radius rem(4)
  color grey-dark
  margin-top (grid-gap / 2)
  max-width 'calc(100vw - %s)' % grid-gap
  opacity 0
  position absolute
  right rem(-8)
  transition opacity transition ease-out, transform transition ease-out, visibility transition ease-out
  transform 'translateY(-%s)' % rem(12)
  visibility hidden

  @media breakpoint.medium
    margin-top 4px

  &[aria-hidden=false]
    opacity 1
    transform translateY(0)
    visibility visible

  // Menu arrow via rotated square with a drop shadow.
  &::before
    elevation(2)
    background white
    clip-path polygon(rem(-8) rem(-8), rem(-8) rem(24), rem(24) rem(-8))
    content ''
    display block
    height menu-arrow
    position absolute
    right rem(12)
    top (- menu-arrow / 2)
    transform rotate(45deg)
    width menu-arrow

    @media breakpoint.medium
      right rem(10)

// Menu container.
.menu__content
  display flex
  -webkit-overflow-scrolling touch
  overflow-x auto
  max-width 100%
  width 100%

.menu__content::-webkit-scrollbar
  display none

// Settings lists.
.menu
  ul
    display flex
    list-style none
    margin 0
    padding rem(16)

  ul:not(:last-child)
    border-right 1px solid grey-lighter

  li:not(:last-child)
    margin 0 rem(12) 0 0

.item__label
  display block
  height menu-item-size
  overflow hidden
  position relative
  width menu-item-size

.item__label:focus
  outline none

[no-touch] .item__label:hover
  cursor pointer

// Settings options.
.option
  position absolute

.option__label
  align-items center
  border-radius 50%
  display inline-flex
  height menu-item-size
  justify-content center
  position relative
  width menu-item-size
  z-index -1

[no-touch] .option__label
  transition border transition

// Styles for different option types.
[type=currency] .option__label
  background off-white
  border 3px solid grey-lighter
  color grey-light
  font-size em(22)

[type=currency] .option:checked + .option__label
  background white
  color brand-color

[type=theme] .option__label
  border 3px solid grey-lighter
  color transparent

.option__label[option=light]
  background white

.option__label[option=sepia]
  background theme-sepia

.option__label[option=dark]
  background theme-dark

.option:checked + .option__label
  border-color brand-color

.item__label:focus .option:not(:checked) + .option__label
[no-touch] .item__label:hover .option:not(:checked) + .option__label
  border-color grey-light
