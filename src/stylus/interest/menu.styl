.menu
  elevation(2)
  background white
  border-radius rem(4)
  color DARK_GREY
  margin-top (GRID_GAP / 2)
  max-width 'calc(100vw - %s)' % GRID_GAP
  opacity 0
  position absolute
  right rem(-8)
  transition opacity TRANSITION ease-out, transform TRANSITION ease-out, visibility TRANSITION ease-out
  transform 'translateY(-%s)' % rem(12)
  visibility hidden

  @media Breakpoint.MEDIUM
    margin-top -4px

.settings[open] .menu
  opacity 1
  transform translateY(0)
  visibility visible

// Menu arrow via rotated square with a shadow.
.menu::before
  elevation(2)
  background white
  clip-path polygon(rem(-8) rem(-8), rem(-8) rem(24), rem(24) rem(-8))
  content ''
  display block
  height MENU_ARROW
  position absolute
  right rem(10)
  top (- MENU_ARROW / 2)
  transform rotate(45deg)
  width MENU_ARROW

// Menu container.
.menu__content
  display flex
  -webkit-overflow-scrolling touch
  overflow-x auto
  max-width 100%
  width 100%

.menu__content::-webkit-scrollbar
  display none

.menu__group
  padding rem(16)

.menu__group:not(:last-child)
  border-right 1px solid LIGHTER_GREY

// Settings lists.
.menu__list
  display flex
  list-style none
  margin 0
  padding 0

.item:not(:last-child)
  margin 0 rem(12) 0 0

.item__label
  display block
  height MENU_ITEM_SIZE
  overflow hidden
  position relative
  width MENU_ITEM_SIZE

.item__label:focus
  outline none

[no-touch] .item__label:hover
  cursor pointer

// Settings options.
.option
  position absolute

.option__label
  align-items center
  border-radius 50%
  display inline-flex
  height MENU_ITEM_SIZE
  justify-content center
  position relative
  width MENU_ITEM_SIZE
  z-index -1

[no-touch] .option__label
  transition border TRANSITION

// Styles for different option types.
[type=currency] .option__label
  background OFF_WHITE
  border 3px solid LIGHTER_GREY
  color LIGHT_GREY
  font-size em(22)

[type=currency] .option:checked + .option__label
  background white
  color GREEN

[type=theme] .option__label
  border 3px solid LIGHTER_GREY
  color transparent

.option__label[option=light]
  background white

.option__label[option=sepia]
  background SEPIA_THEME

.option__label[option=dark]
  background DARK_THEME

.option:checked + .option__label
  border-color GREEN

.item__label:focus .option:not(:checked) + .option__label
[no-touch] .item__label:hover .option:not(:checked) + .option__label
  border-color LIGHT_GREY
