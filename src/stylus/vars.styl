// -----------------------------------------------------------------------------
// Base typography, layout, colors.

body
  // Typography.
  --fineprint-font-size rem(12)
  --header-font-size rem(16)
  --table-font-size rem(13)

  // Layout.
  --header-content-padding 0 var(--gap, gap)
  --header-height rem(48)
  --table-padding-x em(12)
  --table-padding-y em(8)

  // Default/light mode.
  --background-0 background-0
  --background-1 background-1
  --background-2 background-2
  --card-border-color border-color
  --header-backdrop-background header-backdrop-background
  --header-backdrop-filter backdrop-effect
  --header-background header-background
  --text-2-color text-2-color
  --theme-color theme-color
  --warning-color warning-color

// -----------------------------------------------------------------------------
// Dark mode.

@media (prefers-color-scheme dark)
  body
    --background-0 background-0-dark
    --background-1 background-1-dark
    --background-2 background-2-dark
    --card-border-color transparent
    --header-backdrop-background header-backdrop-background-dark
    --header-background header-background-dark
    --input-border-color text-2-color
    --menu-box-shadow 0 0 0 1px border-color-dark
    --table-row-background table-row-background-dark
    --text-1-color text-1-color-dark
    --text-2-color text-2-color-dark
    --theme-color theme-color-dark
    --warning-color warning-color-dark

// -----------------------------------------------------------------------------
// Base layout.

body
  --grid:
    'header' var(--header-height) \
    'main' 1fr / 1fr

main
  --grid:
    'values' minmax(auto, 1fr) \
    'table' \
    'expandable' (button-height * 3)

[no-js] main
  --grid unset

.panel
  --first-item-padding-x-start gap
  --last-item-padding-x-end gap

user-settings
  --button-background 0
  --button-backdrop-filter none
  --button-backdrop-background 0
  --margin-inline-end rem(-12)

user-values
  --list-margin 0 auto
  --total-margin 1rem auto 0
  --total-text-align center

// -----------------------------------------------------------------------------
// Small breakpoint layout.

@media breakpoint.small
  body
    --gap gap
    --grid:
      'header header header' var(--header-height) \
      '. main .' 1fr / 0 1fr 0

  main
    --grid:
      'values' minmax(auto, 1fr) \
      'table' \
      'expandable' (button-height * 2) \
      '.' 0

  .panel
    --frame-border 1px solid var(--card-border-color)
    --frame-border-radius card-corner-radius
    --table-background var(--background-1)
    --thead-border-bottom 1px solid var(--card-border-color)
    --first-item-padding-x-start var(--table-padding-x)
    --last-item-padding-x-end var(--table-padding-x)

  user-settings
    --margin-inline-end 0

  // Place fields in side-by-side layout to reduce vertical real estate
  user-values
    --item-flex 50%
    --list-display flex

// -----------------------------------------------------------------------------
// Medium breakpoint layout and typography.

@media breakpoint.medium
  body
    --fineprint-font-size rem(14)
    --gap gap-medium
    --header-font-size rem(20)
    --header-height rem(60)
    --table-font-size rem(15)

// -----------------------------------------------------------------------------
// Large breakpoint layout and colors.

@media breakpoint.large
  body
    --gap 0
    --header-backdrop-filter none
    --header-backdrop-background 0
    --header-background 0
    --header-content-padding 0
    --table-padding-x em(16)

  main
    --gap 0 gap-medium
    --grid:
      'values table' 1fr \
      'expandable expandable' 0 / values-grid-width 1fr

  user-settings
    --button-backdrop-background header-backdrop-background
    --button-backdrop-filter backdrop-effect
    --button-background header-background

  @media (prefers-color-scheme dark)
    user-settings
      --button-background header-background-dark
      --button-backdrop-background header-backdrop-background-dark

  user-values
    --list-display block
    --list-margin 0
    --position sticky
    --top var(--header-height)
    --total-margin .5rem 0 0
    --total-text-align left
